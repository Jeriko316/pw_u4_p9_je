{"ast":null,"code":"import _regenerator from \"C:/Users/Ordenador/Documents/1.DOCUMENTOS ERICK/Octavo Semetre/Programacion Web/Deber Autenticacion/pw_u4_p9_je/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/Ordenador/Documents/1.DOCUMENTOS ERICK/Octavo Semetre/Programacion Web/Deber Autenticacion/pw_u4_p9_je/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { consultarPorIdFachada, borrarFachada } from \"@/client/MatriculaClient\";\nexport default {\n  data: function data() {\n    return {\n      idBusqueda: \"\",\n      estudiante: null,\n      mensajeExito: null,\n      error: null\n    };\n  },\n  methods: {\n    buscarEstudiante: function buscarEstudiante() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var data, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              _context.p = 0;\n              _context.n = 1;\n              return consultarPorIdFachada(_this.idBusqueda);\n            case 1:\n              data = _context.v;\n              _this.estudiante = data;\n              _this.error = null;\n              console.log(\"Estudiante encontrado:\", data);\n              _context.n = 3;\n              break;\n            case 2:\n              _context.p = 2;\n              _t = _context.v;\n              console.error(\"Error al buscar estudiante:\", _t);\n              _this.estudiante = null;\n              _this.error = \"Estudiante no encontrado\";\n            case 3:\n              return _context.a(2);\n          }\n        }, _callee, null, [[0, 2]]);\n      }))();\n    },\n    confirmarEliminacion: function confirmarEliminacion() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var resultado, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              if (confirm(\"\\xBFEst\\xE1s seguro de eliminar al estudiante \".concat(_this2.estudiante.name, \" \").concat(_this2.estudiante.lastName, \"?\"))) {\n                _context2.n = 1;\n                break;\n              }\n              return _context2.a(2);\n            case 1:\n              _context2.p = 1;\n              _context2.n = 2;\n              return borrarFachada(_this2.idBusqueda);\n            case 2:\n              resultado = _context2.v;\n              if (resultado === true || resultado === 'true') {\n                _this2.mensajeExito = \"Estudiante \".concat(_this2.estudiante.name, \" \").concat(_this2.estudiante.lastName, \" eliminado exitosamente\");\n                _this2.error = null;\n\n                // Limpiar después de 3 segundos\n                setTimeout(function () {\n                  _this2.mensajeExito = null;\n                  _this2.estudiante = null;\n                  _this2.idBusqueda = \"\";\n                }, 3000);\n              } else {\n                _this2.error = \"No se pudo eliminar el estudiante\";\n              }\n              console.log(\"Resultado eliminación:\", resultado);\n              _context2.n = 4;\n              break;\n            case 3:\n              _context2.p = 3;\n              _t2 = _context2.v;\n              console.error(\"Error al eliminar estudiante:\", _t2);\n              _this2.error = _t2.message || \"Error al eliminar el estudiante\";\n              _this2.mensajeExito = null;\n            case 4:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[1, 3]]);\n      }))();\n    },\n    cancelar: function cancelar() {\n      this.estudiante = null;\n      this.idBusqueda = \"\";\n      this.mensajeExito = null;\n      this.error = null;\n    }\n  }\n};","map":{"version":3,"names":["consultarPorIdFachada","borrarFachada","data","idBusqueda","estudiante","mensajeExito","error","methods","buscarEstudiante","_this","_asyncToGenerator","_regenerator","m","_callee","_t","w","_context","p","n","v","console","log","a","confirmarEliminacion","_this2","_callee2","resultado","_t2","_context2","confirm","concat","name","lastName","setTimeout","message","cancelar"],"sources":["C:\\Users\\Ordenador\\Documents\\1.DOCUMENTOS ERICK\\Octavo Semetre\\Programacion Web\\Deber Autenticacion\\pw_u4_p9_je\\src\\views\\BorrarEstudiante.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Eliminar Estudiante</h2>\r\n    \r\n    <div class=\"search-section\">\r\n      <h3>1. Buscar Estudiante</h3>\r\n      <input v-model=\"idBusqueda\" type=\"number\" placeholder=\"ID del estudiante\">\r\n      <button @click=\"buscarEstudiante\" :disabled=\"!idBusqueda\">Buscar</button>\r\n    </div>\r\n    \r\n    <div v-if=\"estudiante\" class=\"estudiante-info\">\r\n      <h3>2. Confirmar Eliminación</h3>\r\n      <div class=\"info-card\">\r\n        <p><strong>ID:</strong> {{ estudiante.id }}</p>\r\n        <p><strong>Nombre:</strong> {{ estudiante.name }} {{ estudiante.lastName }}</p>\r\n        <p><strong>Email:</strong> {{ estudiante.email }}</p>\r\n        <p><strong>Provincia:</strong> {{ estudiante.province }}</p>\r\n        <p><strong>Género:</strong> {{ estudiante.gender }}</p>\r\n        \r\n        <div class=\"warning-section\">\r\n          <p>⚠️ <strong>Advertencia:</strong> Esta acción no se puede deshacer.</p>\r\n        </div>\r\n        \r\n        <div class=\"button-group\">\r\n          <button @click=\"confirmarEliminacion\" class=\"delete-btn\">Confirmar Eliminación</button>\r\n          <button @click=\"cancelar\" class=\"cancel-btn\">Cancelar</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"mensajeExito\" class=\"success-message\">\r\n      <p>{{ mensajeExito }}</p>\r\n    </div>\r\n    \r\n    <div v-if=\"error\" class=\"error\">\r\n      <p>Error: {{ error }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { consultarPorIdFachada, borrarFachada } from \"@/client/MatriculaClient\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      idBusqueda: \"\",\r\n      estudiante: null,\r\n      mensajeExito: null,\r\n      error: null\r\n    }\r\n  },\r\n  methods: {\r\n    async buscarEstudiante() {\r\n      try {\r\n        const data = await consultarPorIdFachada(this.idBusqueda);\r\n        this.estudiante = data;\r\n        this.error = null;\r\n        console.log(\"Estudiante encontrado:\", data);\r\n      } catch (error) {\r\n        console.error(\"Error al buscar estudiante:\", error);\r\n        this.estudiante = null;\r\n        this.error = \"Estudiante no encontrado\";\r\n      }\r\n    },\r\n    \r\n    async confirmarEliminacion() {\r\n      if (!confirm(`¿Estás seguro de eliminar al estudiante ${this.estudiante.name} ${this.estudiante.lastName}?`)) {\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        const resultado = await borrarFachada(this.idBusqueda);\r\n        \r\n        if (resultado === true || resultado === 'true') {\r\n          this.mensajeExito = `Estudiante ${this.estudiante.name} ${this.estudiante.lastName} eliminado exitosamente`;\r\n          this.error = null;\r\n          \r\n          // Limpiar después de 3 segundos\r\n          setTimeout(() => {\r\n            this.mensajeExito = null;\r\n            this.estudiante = null;\r\n            this.idBusqueda = \"\";\r\n          }, 3000);\r\n          \r\n        } else {\r\n          this.error = \"No se pudo eliminar el estudiante\";\r\n        }\r\n        \r\n        console.log(\"Resultado eliminación:\", resultado);\r\n      } catch (error) {\r\n        console.error(\"Error al eliminar estudiante:\", error);\r\n        this.error = error.message || \"Error al eliminar el estudiante\";\r\n        this.mensajeExito = null;\r\n      }\r\n    },\r\n    \r\n    cancelar() {\r\n      this.estudiante = null;\r\n      this.idBusqueda = \"\";\r\n      this.mensajeExito = null;\r\n      this.error = null;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search-section {\r\n  padding: 15px;\r\n  border: 1px solid #f44336;\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n  background-color: #ffebee;\r\n}\r\n\r\n.search-section input {\r\n  padding: 8px;\r\n  margin-right: 10px;\r\n  width: 200px;\r\n}\r\n\r\n.estudiante-info {\r\n  max-width: 600px;\r\n  margin: 20px auto;\r\n}\r\n\r\n.info-card {\r\n  padding: 20px;\r\n  border: 2px solid #f44336;\r\n  border-radius: 5px;\r\n  background-color: #fff;\r\n}\r\n\r\n.info-card p {\r\n  margin: 8px 0;\r\n}\r\n\r\n.warning-section {\r\n  padding: 15px;\r\n  border: 1px solid #ff9800;\r\n  border-radius: 5px;\r\n  margin: 20px 0;\r\n  background-color: #fff8e1;\r\n  color: #ff9800;\r\n}\r\n\r\n.button-group {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n\r\nbutton {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  flex: 1;\r\n}\r\n\r\n.delete-btn {\r\n  background-color: #f44336;\r\n  color: white;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background-color: #d32f2f;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #757575;\r\n  color: white;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #616161;\r\n}\r\n\r\n.success-message {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  border: 1px solid #4CAF50;\r\n  border-radius: 5px;\r\n  background-color: #f0f8f0;\r\n  color: #4CAF50;\r\n}\r\n\r\n.error {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  border: 1px solid #f44336;\r\n  border-radius: 5px;\r\n  background-color: #ffebee;\r\n  color: #f44336;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}