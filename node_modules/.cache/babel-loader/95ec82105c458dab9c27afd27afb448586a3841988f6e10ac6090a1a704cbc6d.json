{"ast":null,"code":"import _regenerator from \"/home/jerikozc/Documentos/PROGRAMACION WEB P9/front/pw_u4_p9_bm/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"/home/jerikozc/Documentos/PROGRAMACION WEB P9/front/pw_u4_p9_bm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport { consultarTodosFachada, consultarHijosFachada } from \"@/client/MatriculaClient\";\nexport default {\n  data: function data() {\n    return {\n      estudiantes: null,\n      hijos: [],\n      hijosVisibles: false,\n      estudianteSeleccionado: null\n    };\n  },\n  methods: {\n    mostrarTodos: function mostrarTodos() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var data, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              _context.p = 0;\n              _context.n = 1;\n              return consultarTodosFachada();\n            case 1:\n              data = _context.v;\n              _this.estudiantes = data;\n              console.log(\"Todos los estudiantes:\", data);\n              _context.n = 3;\n              break;\n            case 2:\n              _context.p = 2;\n              _t = _context.v;\n              console.error(\"Error al consultar todos:\", _t);\n              _this.estudiantes = [];\n            case 3:\n              return _context.a(2);\n          }\n        }, _callee, null, [[0, 2]]);\n      }))();\n    },\n    verHijos: function verHijos(studentId) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var data, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              _context2.p = 0;\n              _context2.n = 1;\n              return consultarHijosFachada(studentId);\n            case 1:\n              data = _context2.v;\n              _this2.hijos = data;\n              _this2.estudianteSeleccionado = studentId;\n              _this2.hijosVisibles = true;\n              _context2.n = 3;\n              break;\n            case 2:\n              _context2.p = 2;\n              _t2 = _context2.v;\n              console.error(\"Error al consultar hijos:\", _t2);\n            case 3:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[0, 2]]);\n      }))();\n    },\n    ocultarHijos: function ocultarHijos() {\n      this.hijosVisibles = false;\n      this.hijos = [];\n    },\n    limpiar: function limpiar() {\n      this.estudiantes = null;\n      this.hijos = [];\n      this.hijosVisibles = false;\n    },\n    formatDate: function formatDate(dateString) {\n      if (!dateString) return 'N/A';\n      var date = new Date(dateString);\n      return date.toLocaleDateString('es-ES');\n    }\n  }\n};","map":{"version":3,"names":["consultarTodosFachada","consultarHijosFachada","data","estudiantes","hijos","hijosVisibles","estudianteSeleccionado","methods","mostrarTodos","_this","_asyncToGenerator","_regenerator","m","_callee","_t","w","_context","p","n","v","console","log","error","a","verHijos","studentId","_this2","_callee2","_t2","_context2","ocultarHijos","limpiar","formatDate","dateString","date","Date","toLocaleDateString"],"sources":["/home/jerikozc/Documentos/PROGRAMACION WEB P9/front/pw_u4_p9_bm/src/views/MostrarTodos.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-container\">\r\n    <div class=\"header-section\">\r\n      <h2>üìö Directorio de Estudiantes</h2>\r\n      <p>Administra y visualiza todos los estudiantes registrados</p>\r\n    </div>\r\n\r\n    <div class=\"actions-section\">\r\n      <button @click=\"mostrarTodos\" class=\"btn-primary\" :disabled=\"loading\">\r\n        <span v-if=\"loading\">‚è≥ Cargando...</span>\r\n        <span v-else>üìã Cargar Todos</span>\r\n      </button>\r\n      <button @click=\"limpiar\" class=\"btn-secondary\">\r\n        üóëÔ∏è Limpiar Vista\r\n      </button>\r\n    </div>\r\n\r\n    <div v-if=\"estudiantes && estudiantes.length > 0\" class=\"students-section\">\r\n      <div class=\"section-header\">\r\n        <h3>üë• Estudiantes Registrados ({{ estudiantes.length }})</h3>\r\n      </div>\r\n\r\n      <div class=\"students-grid\">\r\n        <div v-for=\"estudiante in estudiantes\" :key=\"estudiante.id\" class=\"student-card\" @click=\"verHijos(estudiante.id)\">\r\n          <div class=\"card-header\">\r\n            <div class=\"avatar\">\r\n              {{ estudiante.name.charAt(0) }}{{ estudiante.lastName.charAt(0) }}\r\n            </div>\r\n            <div class=\"student-name\">\r\n              <h4>{{ estudiante.name }} {{ estudiante.lastName }}</h4>\r\n              <span class=\"student-id\">ID: {{ estudiante.id }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"card-content\">\r\n            <div class=\"info-row\">\r\n              <span class=\"label\">üìß Email:</span>\r\n              <span class=\"value\">{{ estudiante.email }}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n              <span class=\"label\">üìç Provincia:</span>\r\n              <span class=\"value\">{{ estudiante.province }}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n              <span class=\"label\">üéÇ Nacimiento:</span>\r\n              <span class=\"value\">{{ formatDate(estudiante.birthDay) }}</span>\r\n            </div>\r\n            <div class=\"info-row\">\r\n              <span class=\"label\">‚öß G√©nero:</span>\r\n              <span class=\"value\">{{ estudiante.gender }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"card-actions\">\r\n            <button @click.stop=\"verHijos(estudiante.id)\" class=\"btn-children\">\r\n              üë∂ Ver Hijos\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else-if=\"estudiantes && estudiantes.length === 0\" class=\"empty-state\">\r\n      <div class=\"empty-icon\">üì≠</div>\r\n      <h3>No hay estudiantes registrados</h3>\r\n      <p>¬°Registra tu primer estudiante para comenzar!</p>\r\n    </div>\r\n\r\n    <div v-if=\"hijosVisibles\" class=\"children-modal\">\r\n      <div class=\"modal-overlay\" @click=\"ocultarHijos\"></div>\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h3>üë∂ Hijos del Estudiante {{ estudianteSeleccionado }}</h3>\r\n          <button @click=\"ocultarHijos\" class=\"btn-close\">‚úï</button>\r\n        </div>\r\n\r\n        <div class=\"modal-body\">\r\n          <div v-if=\"hijos && hijos.length > 0\" class=\"children-list\">\r\n            <div v-for=\"hijo in hijos\" :key=\"hijo.id\" class=\"child-item\">\r\n              <div class=\"child-avatar\">\r\n                {{ hijo.name.charAt(0) }}{{ hijo.lastName.charAt(0) }}\r\n              </div>\r\n              <div class=\"child-info\">\r\n                <h4>{{ hijo.name }} {{ hijo.lastName }}</h4>\r\n                <p>ID: {{ hijo.id }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else class=\"no-children\">\r\n            <p>Este estudiante no tiene hijos registrados.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { consultarTodosFachada, consultarHijosFachada } from \"@/client/MatriculaClient\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      estudiantes: null,\r\n      hijos: [],\r\n      hijosVisibles: false,\r\n      estudianteSeleccionado: null\r\n    }\r\n  },\r\n  methods: {\r\n    async mostrarTodos() {\r\n      try {\r\n        const data = await consultarTodosFachada();\r\n        this.estudiantes = data;\r\n        console.log(\"Todos los estudiantes:\", data);\r\n      } catch (error) {\r\n        console.error(\"Error al consultar todos:\", error);\r\n        this.estudiantes = [];\r\n      }\r\n    },\r\n    \r\n    async verHijos(studentId) {\r\n      try {\r\n        const data = await consultarHijosFachada(studentId);\r\n        this.hijos = data;\r\n        this.estudianteSeleccionado = studentId;\r\n        this.hijosVisibles = true;\r\n      } catch (error) {\r\n        console.error(\"Error al consultar hijos:\", error);\r\n      }\r\n    },\r\n    \r\n    ocultarHijos() {\r\n      this.hijosVisibles = false;\r\n      this.hijos = [];\r\n    },\r\n    \r\n    limpiar() {\r\n      this.estudiantes = null;\r\n      this.hijos = [];\r\n      this.hijosVisibles = false;\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      if (!dateString) return 'N/A';\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('es-ES');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.estudiante-card {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  padding: 15px;\r\n  margin: 10px 0;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.hijo-card {\r\n  border: 1px solid #ddd;\r\n  border-radius: 3px;\r\n  padding: 10px;\r\n  margin: 5px 0;\r\n  background-color: #fff;\r\n}\r\n\r\nbutton {\r\n  margin: 5px;\r\n  padding: 8px 15px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #3aa876;\r\n}\r\n</style>"],"mappings":";;;AAmGA,SAASA,qBAAqB,EAAEC,qBAAoB,QAAS,0BAA0B;AAEvF,eAAe;EACbC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,IAAI;MACjBC,KAAK,EAAE,EAAE;MACTC,aAAa,EAAE,KAAK;MACpBC,sBAAsB,EAAE;IAC1B;EACF,CAAC;EACDC,OAAO,EAAE;IACDC,YAAY,WAAZA,YAAYA,CAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAA;QAAA,IAAAX,IAAA,EAAAY,EAAA;QAAA,OAAAH,YAAA,GAAAI,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA,GAAAD,QAAA,CAAAE,CAAA;YAAA;cAAAF,QAAA,CAAAC,CAAA;cAAAD,QAAA,CAAAE,CAAA;cAAA,OAEElB,qBAAqB,CAAC,CAAC;YAAA;cAApCE,IAAG,GAAAc,QAAA,CAAAG,CAAA;cACTV,KAAI,CAACN,WAAU,GAAID,IAAI;cACvBkB,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEnB,IAAI,CAAC;cAAAc,QAAA,CAAAE,CAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,CAAA;cAAAH,EAAA,GAAAE,QAAA,CAAAG,CAAA;cAE3CC,OAAO,CAACE,KAAK,CAAC,2BAA2B,EAAAR,EAAO,CAAC;cACjDL,KAAI,CAACN,WAAU,GAAI,EAAE;YAAA;cAAA,OAAAa,QAAA,CAAAO,CAAA;UAAA;QAAA,GAAAV,OAAA;MAAA;IAEzB,CAAC;IAEKW,QAAQ,WAARA,QAAQA,CAACC,SAAS,EAAE;MAAA,IAAAC,MAAA;MAAA,OAAAhB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAe,SAAA;QAAA,IAAAzB,IAAA,EAAA0B,GAAA;QAAA,OAAAjB,YAAA,GAAAI,CAAA,WAAAc,SAAA;UAAA,kBAAAA,SAAA,CAAAZ,CAAA,GAAAY,SAAA,CAAAX,CAAA;YAAA;cAAAW,SAAA,CAAAZ,CAAA;cAAAY,SAAA,CAAAX,CAAA;cAAA,OAEHjB,qBAAqB,CAACwB,SAAS,CAAC;YAAA;cAA7CvB,IAAG,GAAA2B,SAAA,CAAAV,CAAA;cACTO,MAAI,CAACtB,KAAI,GAAIF,IAAI;cACjBwB,MAAI,CAACpB,sBAAqB,GAAImB,SAAS;cACvCC,MAAI,CAACrB,aAAY,GAAI,IAAI;cAAAwB,SAAA,CAAAX,CAAA;cAAA;YAAA;cAAAW,SAAA,CAAAZ,CAAA;cAAAW,GAAA,GAAAC,SAAA,CAAAV,CAAA;cAEzBC,OAAO,CAACE,KAAK,CAAC,2BAA2B,EAAAM,GAAO,CAAC;YAAA;cAAA,OAAAC,SAAA,CAAAN,CAAA;UAAA;QAAA,GAAAI,QAAA;MAAA;IAErD,CAAC;IAEDG,YAAY,WAAZA,YAAYA,CAAA,EAAG;MACb,IAAI,CAACzB,aAAY,GAAI,KAAK;MAC1B,IAAI,CAACD,KAAI,GAAI,EAAE;IACjB,CAAC;IAED2B,OAAO,WAAPA,OAAOA,CAAA,EAAG;MACR,IAAI,CAAC5B,WAAU,GAAI,IAAI;MACvB,IAAI,CAACC,KAAI,GAAI,EAAE;MACf,IAAI,CAACC,aAAY,GAAI,KAAK;IAC5B,CAAC;IAED2B,UAAU,WAAVA,UAAUA,CAACC,UAAU,EAAE;MACrB,IAAI,CAACA,UAAU,EAAE,OAAO,KAAK;MAC7B,IAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MACjC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,CAAC;IACzC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}