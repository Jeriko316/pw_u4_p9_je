{"ast":null,"code":"import _toConsumableArray from \"/home/jerikozc/Documentos/PROGRAMACION WEB P9/front/pw_u4_p9_bm/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nvar _hoisted_1 = {\n  key: 0\n};\nvar _hoisted_2 = {\n  key: 1\n};\nvar _hoisted_3 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"h2\", null, \"Todos los estudiantes\", -1)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.mostrarTodos && $options.mostrarTodos.apply($options, arguments);\n    })\n  }, \"Cargar todos\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.limpiar && $options.limpiar.apply($options, arguments);\n    })\n  }, \"Limpiar\"), $data.estudiantes && $data.estudiantes.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h3\", null, \"Resultados (\" + _toDisplayString($data.estudiantes.length) + \" estudiantes):\", 1), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.estudiantes, function (estudiante) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: estudiante.id,\n      \"class\": \"estudiante-card\"\n    }, [_createElementVNode(\"h4\", null, _toDisplayString(estudiante.name) + \" \" + _toDisplayString(estudiante.lastName), 1), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"strong\", null, \"ID:\", -1)), _createTextVNode(\" \" + _toDisplayString(estudiante.id), 1)]), _createElementVNode(\"p\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"Email:\", -1)), _createTextVNode(\" \" + _toDisplayString(estudiante.email), 1)]), _createElementVNode(\"p\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"Provincia:\", -1)), _createTextVNode(\" \" + _toDisplayString(estudiante.province), 1)]), _createElementVNode(\"p\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"Género:\", -1)), _createTextVNode(\" \" + _toDisplayString(estudiante.gender), 1)]), _createElementVNode(\"p\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"Fecha Nacimiento:\", -1)), _createTextVNode(\" \" + _toDisplayString($options.formatDate(estudiante.birthDay)), 1)])]);\n  }), 128))])) : $data.estudiantes && $data.estudiantes.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toConsumableArray(_cache[8] || (_cache[8] = [_createElementVNode(\"p\", null, \"No hay estudiantes registrados.\", -1)])))) : _createCommentVNode(\"\", true), $data.hijosVisibles ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, \"Hijos del estudiante \" + _toDisplayString($data.estudianteSeleccionado), 1), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.hijos, function (hijo) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: hijo.id,\n      \"class\": \"hijo-card\"\n    }, [_createElementVNode(\"p\", null, _toDisplayString(hijo.name) + \" \" + _toDisplayString(hijo.lastName), 1)]);\n  }), 128)), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $options.ocultarHijos && $options.ocultarHijos.apply($options, arguments);\n    })\n  }, \"Ocultar Hijos\")])) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"names":["_createElementBlock","_createElementVNode","onClick","_cache","$options","mostrarTodos","apply","arguments","limpiar","$data","estudiantes","length","_hoisted_1","_toDisplayString","_Fragment","_renderList","estudiante","key","id","name","lastName","email","province","gender","formatDate","birthDay","_hoisted_2","_toConsumableArray","hijosVisibles","_hoisted_3","estudianteSeleccionado","hijos","hijo","ocultarHijos"],"sources":["/home/jerikozc/Documentos/PROGRAMACION WEB P9/front/pw_u4_p9_bm/src/views/MostrarTodos.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Todos los estudiantes</h2>\r\n    <button @click=\"mostrarTodos\">Cargar todos</button>\r\n    <button @click=\"limpiar\">Limpiar</button>\r\n    \r\n    <div v-if=\"estudiantes && estudiantes.length > 0\">\r\n      <h3>Resultados ({{ estudiantes.length }} estudiantes):</h3>\r\n      <div v-for=\"estudiante in estudiantes\" :key=\"estudiante.id\" class=\"estudiante-card\">\r\n        <h4>{{ estudiante.name }} {{ estudiante.lastName }}</h4>\r\n        <p><strong>ID:</strong> {{ estudiante.id }}</p>\r\n        <p><strong>Email:</strong> {{ estudiante.email }}</p>\r\n        <p><strong>Provincia:</strong> {{ estudiante.province }}</p>\r\n        <p><strong>Género:</strong> {{ estudiante.gender }}</p>\r\n        <p><strong>Fecha Nacimiento:</strong> {{ formatDate(estudiante.birthDay) }}</p>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-else-if=\"estudiantes && estudiantes.length === 0\">\r\n      <p>No hay estudiantes registrados.</p>\r\n    </div>\r\n    \r\n    <div v-if=\"hijosVisibles\">\r\n      <h3>Hijos del estudiante {{ estudianteSeleccionado }}</h3>\r\n      <div v-for=\"hijo in hijos\" :key=\"hijo.id\" class=\"hijo-card\">\r\n        <p>{{ hijo.name }} {{ hijo.lastName }}</p>\r\n      </div>\r\n      <button @click=\"ocultarHijos\">Ocultar Hijos</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { consultarTodosFachada, consultarHijosFachada } from \"@/client/MatriculaClient\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      estudiantes: null,\r\n      hijos: [],\r\n      hijosVisibles: false,\r\n      estudianteSeleccionado: null\r\n    }\r\n  },\r\n  methods: {\r\n    async mostrarTodos() {\r\n      try {\r\n        const data = await consultarTodosFachada();\r\n        this.estudiantes = data;\r\n        console.log(\"Todos los estudiantes:\", data);\r\n      } catch (error) {\r\n        console.error(\"Error al consultar todos:\", error);\r\n        this.estudiantes = [];\r\n      }\r\n    },\r\n    \r\n    async verHijos(studentId) {\r\n      try {\r\n        const data = await consultarHijosFachada(studentId);\r\n        this.hijos = data;\r\n        this.estudianteSeleccionado = studentId;\r\n        this.hijosVisibles = true;\r\n      } catch (error) {\r\n        console.error(\"Error al consultar hijos:\", error);\r\n      }\r\n    },\r\n    \r\n    ocultarHijos() {\r\n      this.hijosVisibles = false;\r\n      this.hijos = [];\r\n    },\r\n    \r\n    limpiar() {\r\n      this.estudiantes = null;\r\n      this.hijos = [];\r\n      this.hijosVisibles = false;\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      if (!dateString) return 'N/A';\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('es-ES');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.estudiante-card {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  padding: 15px;\r\n  margin: 10px 0;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.hijo-card {\r\n  border: 1px solid #ddd;\r\n  border-radius: 3px;\r\n  padding: 10px;\r\n  margin: 5px 0;\r\n  background-color: #fff;\r\n}\r\n\r\nbutton {\r\n  margin: 5px;\r\n  padding: 8px 15px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #3aa876;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}